{"version":3,"sources":["index.js"],"names":["frame","Root","props","_this","Object","_Users_aomkhunpanitchot_Documents_web_padoru_running_in_1000_frame_per_second_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_Users_aomkhunpanitchot_Documents_web_padoru_running_in_1000_frame_per_second_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_aomkhunpanitchot_Documents_web_padoru_running_in_1000_frame_per_second_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","top","left","sprite","initTop","unit","undefined","extraSpeed","outside","outsideY","timer","_this2","window","innerHeight","innerWidth","setState","addEventListener","document","getElementById","pause","play","load","animate","setInterval","_this3","timerInterval","time","currentTime","setTimeout","outsideYInterval","clearInterval","fadeInterval","goRight","spin","spinInterval","jump","jumpInterval","_this4","right","initJump","initFall","beforeCenter","Promise","resolve","firstHalf","_this5","afterCenter","secondHalf","_this6","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","react__WEBPACK_IMPORTED_MODULE_7__","id","style","opacity","backgroundPositionY","concat","onClick","playAudio","src","alt","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.532d696b.chunk.js","sourcesContent":["import React, { Component, Fragment } from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport \"./main.css\"\n\nlet frame = [\n    \"frame/padoru0.png\",\n    \"frame/padoru1.png\",\n    \"frame/padoru2.png\",\n    \"frame/padoru3.png\",\n    \"frame/padoru0.png\" // Fallback\n]\n\nclass Root extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            top: 30,\n            left: -20,\n            sprite: 0,\n            initTop: 30,\n            unit: undefined,\n            extraSpeed: 0,\n            outside: 1,\n            outsideY: 0,\n            timer: 0\n        }\n    }\n\n    componentDidMount(){\n        if(window.innerHeight > window.innerWidth){\n            // Portrait\n            this.setState({\n                unit: \"vw\"\n            })\n        } else {\n            this.setState({\n                unit: \"vh\"\n            })\n        }\n\n        window.addEventListener(\"resize\", () => {\n            if(window.innerHeight > window.innerWidth){\n                // Portrait\n                this.setState({\n                    unit: \"vw\"\n                })\n            } else {\n                this.setState({\n                    unit: \"vh\"\n                })\n            }\n        })\n        \n        document.getElementById(\"audio\").pause();\n\n        window.addEventListener('load', () => {\n            document.getElementById(\"audio\").play();\n            this.setState({\n                load: true\n            })\n            this.animate();\n            setInterval(() => {\n                this.animate();\n            },11625)\n        })\n    }\n\n    animate(){\n        this.setState({\n            top: 30,\n            left: -20,\n            sprite: 0,\n            initTop: 30,\n            extraSpeed: 0,\n            outside: 1,\n            outsideY: 0,\n            timer: 0\n        })\n\n        let timerInterval = setInterval(() => {\n            this.setState({\n                timer: this.state.time + 0.1\n            })\n            window.timer = this.state.timer;\n        },100)\n\n        document.getElementById(\"audio\").currentTime = 0\n\n        setTimeout(() => {\n            let outsideYInterval = setInterval(() => {\n                this.setState({\n                    outsideY: this.state.outsideY - 0.0075\n                })\n                setTimeout(() => {\n                    clearInterval(outsideYInterval);\n                    return;\n                }, 3500)\n            }, 1)\n        }, 100)\n\n        setTimeout(() => {\n            let fadeInterval = setInterval(() => {\n                this.setState({\n                    outside: this.state.outside - 0.0025\n                })\n                if(this.state.outside <= 0){\n                    this.setState({\n                        outside: 0\n                    })\n                    clearInterval(fadeInterval);\n                    return;\n                }\n            }, 1);\n        }, 3000)\n\n        setTimeout(() => {\n            this.goRight();\n        },3500)\n\n        let spin = 0;\n\n        setTimeout(() => {\n            let spinInterval = setInterval(() => {\n                spin++;\n                this.setState({\n                    sprite: this.state.sprite + 1\n                })\n                if(this.state.sprite > 3) this.setState({\n                    sprite: 0\n                })\n                if(spin >= 16){\n                    clearInterval(spinInterval);\n                    setTimeout(() => {\n                        this.setState({\n                            extraSpeed: 0.065\n                        })\n                    }, 0);\n                    return;\n                }\n            },150)\n        }, 6000)\n\n        let jump = 0\n\n        setTimeout(() => {\n            let jumpInterval = setInterval(() => {\n                this.jump();\n                jump++;\n                if(jump >= 6){\n                    clearInterval(jumpInterval);\n                    clearInterval(timerInterval);\n                    return;\n                }\n            },340);\n        },8000)\n    }\n\n    playAudio(){\n        document.getElementById('audio').play();\n        document.getElementById('audio').currentTime = this.state.timer;\n    }\n\n    goRight(){\n        let right = setInterval(() => {\n            this.setState({\n                left: this.state.left + 0.055 + this.state.extraSpeed\n            })\n            if(this.state.left > 120){\n                clearInterval(right);\n            }\n        },1)\n    }\n\n    async jump(){\n        let initJump = this.state.initTop,\n            jump = initJump,\n            initFall = 0,\n            limit = 10\n\n        let beforeCenter = new Promise((resolve) => {\n            let firstHalf = setInterval(() => {\n                jump = jump - (jump/ (limit * 5));\n                this.setState({\n                    top: jump\n                })\n                if(this.state.top < initJump - limit){\n                    clearInterval(firstHalf);\n                    return resolve();\n                }\n            })\n        })\n\n        await beforeCenter;\n\n        let afterCenter = new Promise((resolve) => {\n            let secondHalf = setInterval(() => {\n                initFall += (0.005 + (initFall * 0.005));\n                this.setState({\n                    top: this.state.top + initFall\n                })\n                if(this.state.top > initJump){\n                    this.setState({\n                        top: this.state.initJump\n                    })\n                    clearInterval(secondHalf);\n                    return resolve();\n                }\n            })\n        })\n\n        await afterCenter;\n\n        this.setState({\n            top: this.state.initTop\n        })\n        return;\n    }\n\n    render(){\n        if(this.state.load){\n            return(\n                <Fragment>\n                    <div \n                        id=\"outside\" \n                        style={{opacity: this.state.outside, backgroundPositionY: `${this.state.outsideY}vh`}}\n                        onClick={() => this.playAudio()}\n                    ></div>\n                    <div id=\"overlay\" onClick={() => this.playAudio}></div>\n                    <div id=\"hall\" onClick={() => this.playAudio()}></div>\n                    <img \n                        id=\"frame\" src={frame[this.state.sprite]} \n                        alt=\"Padoru\" \n                        onClick={() => this.playAudio()}\n                        style={{\n                            top: `${this.state.top}${this.state.unit}`,\n                            left: `${this.state.left}%`\n                        }}\n                    />\n                </Fragment>\n            )\n        } else {\n            return (\n                <div id=\"loading\">\n                    Loading\n                </div>\n            )\n        }\n    }\n}\n\nReactDOM.render(<Root />, document.getElementById(\"root\"));"],"sourceRoot":""}